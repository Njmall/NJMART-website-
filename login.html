<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>NJ Mart — Login (Final Expanded)</title>

  <!-- ===== Fonts + icons ===== -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous"/>

  <!-- ===== Large inline CSS (expanded for readability) ===== -->
  <style>
    /* ---------- root variables ---------- */
    :root{
      --bg:#f6fbf8;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#2db34a;
      --accent-dark:#167a2a;
      --danger:#ef4444;
      --shadow: 0 12px 36px rgba(12,30,40,0.08);
      --radius:14px;
      --maxw:980px;
      --mono: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    /* ---------- base reset ---------- */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--mono);
      background:linear-gradient(180deg,#eef7f0 0%, #f6fbf8 100%);
      color:#0b1420;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
    }

    /* ---------- layout container ---------- */
    .wrap{
      max-width:var(--maxw);
      margin:22px auto;
      padding:16px;
    }

    /* ---------- header ---------- */
    header.app-header{
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:18px;
    }
    .logo{
      width:64px;height:64px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-dark));
      display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:18px;
      box-shadow:0 8px 28px rgba(16,185,129,0.12);
    }
    .brand h1{margin:0;font-size:20px}
    .brand p{margin:0;color:var(--muted);font-size:13px}

    /* ---------- grid layout ---------- */
    .grid{
      display:grid;
      grid-template-columns:420px 1fr;
      gap:18px;
      align-items:start;
    }
    @media(max-width:980px){
      .grid{grid-template-columns:1fr}
    }

    /* ---------- card ---------- */
    .card{
      background:var(--card);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:var(--shadow);
      border:1px solid rgba(8,20,18,0.02);
    }

    /* ---------- auth column ---------- */
    .auth-col{display:flex;flex-direction:column;gap:12px}

    .section-title{font-weight:700;font-size:16px;margin:0}
    .section-sub{color:var(--muted);font-size:13px;margin-top:6px}

    /* ---------- inputs/buttons ---------- */
    .field{display:flex;flex-direction:column;gap:8px}
    input[type="text"], input[type="email"], input[type="password"], input[type="tel"], textarea{
      padding:12px 14px;border-radius:10px;border:1px solid #e6efea;background:#fff;font-size:15px;
      outline:none;transition:box-shadow .15s ease,border-color .15s ease;
    }
    input:focus, textarea:focus{box-shadow:0 6px 18px rgba(16,185,129,0.08);border-color:var(--accent-dark)}

    .btn{
      display:inline-flex;align-items:center;gap:8px;justify-content:center;
      padding:10px 12px;border-radius:10px;border:0;font-weight:800;cursor:pointer;
    }
    .btn-primary{background:var(--accent);color:#fff}
    .btn-ghost{background:#fff;border:1px solid #e6f0ea;color:#111;padding:10px}
    .btn-google{background:#fff;border:1px solid #e8e8e8;color:#111}
    .small{font-size:13px;color:var(--muted)}
    .muted{color:var(--muted)}

    /* layout helpers */
    .row{display:flex;gap:12px;align-items:center}
    .col{flex:1}

    /* OTP area */
    #otpArea{display:none}

    /* right column: tips/debug */
    .info-list{font-size:13px;color:var(--muted);line-height:1.5}
    .kbd{background:#f3f4f6;border-radius:6px;padding:6px 8px;font-family:monospace;font-size:13px}

    /* footer */
    footer.footer{margin-top:18px;padding:12px;text-align:center;color:var(--muted);font-size:13px}
  </style>

</head>
<body>
  <div class="wrap">

    <!-- header -->
    <header class="app-header">
      <div class="logo">NJ</div>
      <div class="brand">
        <h1>NJ Mart</h1>
        <p>Grocery & home delivery — secure admin/customer login</p>
      </div>
    </header>

    <div class="grid">
      <!-- LEFT: Authentication UI -->
      <section class="card auth-col" aria-labelledby="auth-heading">

        <div>
          <h2 id="auth-heading" class="section-title">Sign in — NJ Mart</h2>
          <div class="section-sub">Use Google, Email/password or Phone (OTP). Configure Firebase Auth and Authorized domains as noted below.</div>
        </div>

        <!-- GOOGLE -->
        <div class="card" style="padding:12px">
          <div class="row" style="justify-content:space-between;align-items:center">
            <div>
              <div style="font-weight:800">Sign in with Google</div>
              <div class="small" style="margin-top:6px">Fast sign-in using Google account</div>
            </div>
            <div>
              <button id="btnGoogle" class="btn btn-google"><i class="fa fa-google"></i> Sign in</button>
            </div>
          </div>
        </div>

        <!-- EMAIL -->
        <div class="card" style="padding:12px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="font-weight:800">Email / Password</div>
              <div class="small" style="margin-top:6px">Login or create account</div>
            </div>
            <div class="kbd">secure</div>
          </div>

          <form id="emailForm" style="margin-top:12px">
            <div class="field">
              <label class="small muted">Email</label>
              <input id="email" type="email" placeholder="you@example.com" required>
            </div>
            <div class="field">
              <label class="small muted">Password</label>
              <input id="password" type="password" placeholder="password (min 6 chars)" required>
            </div>

            <div style="display:flex;gap:8px;margin-top:10px">
              <button id="btnEmailLogin" class="btn btn-primary col">Login</button>
              <button id="btnShowSignup" type="button" class="btn btn-ghost">Sign up</button>
            </div>

            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
              <a href="#" id="linkForgot" class="small">Forgot password?</a>
              <div id="emailHelp" class="small muted">We never share your password.</div>
            </div>
          </form>

          <!-- signup block (hidden) -->
          <div id="signupBlock" style="margin-top:12px;display:none;border-top:1px dashed #eef8ee;padding-top:10px">
            <div class="small muted">Create new account</div>
            <div class="field" style="margin-top:8px">
              <label class="small muted">Email</label>
              <input id="signupEmail" type="email" placeholder="your@email.com">
            </div>
            <div class="field">
              <label class="small muted">Password</label>
              <input id="signupPassword" type="password" placeholder="choose a password">
            </div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button id="btnSignupCreate" class="btn btn-primary col">Create</button>
              <button id="btnSignupCancel" class="btn btn-ghost">Cancel</button>
            </div>
          </div>

          <!-- reset password (hidden) -->
          <div id="resetBlock" style="margin-top:12px;display:none;border-top:1px dashed #fff3e0;padding-top:10px">
            <div class="small muted">Reset password</div>
            <div class="field" style="margin-top:8px">
              <label class="small muted">Email for reset</label>
              <input id="resetEmail" type="email" placeholder="email to receive reset link">
            </div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button id="btnResetSend" class="btn btn-primary col">Send Reset Email</button>
              <button id="btnResetCancel" class="btn btn-ghost">Cancel</button>
            </div>
          </div>
        </div>

        <!-- PHONE -->
        <div class="card" style="padding:12px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="font-weight:800">Phone (OTP)</div>
              <div class="small" style="margin-top:6px">Use SMS OTP — requires reCAPTCHA & authorized domain</div>
            </div>
            <div class="small muted">E.164 format</div>
          </div>

          <div style="margin-top:12px">
            <div class="field">
              <label class="small muted">Phone</label>
              <input id="phone" type="tel" placeholder="+91xxxxxxxxxx">
            </div>
            <!-- recaptcha container required by Firebase -->
            <div id="recaptcha-container" style="margin-top:8px"></div>

            <div style="display:flex;gap:8px;margin-top:10px">
              <button id="btnSendOtp" class="btn btn-primary col">Send OTP</button>
              <button id="btnClearPhone" class="btn btn-ghost">Clear</button>
            </div>

            <div id="otpArea" style="margin-top:12px;display:none">
              <div class="field">
                <label class="small muted">Enter OTP</label>
                <input id="otp" type="text" placeholder="6-digit code">
              </div>
              <div style="display:flex;gap:8px;margin-top:8px">
                <button id="btnVerifyOtp" class="btn btn-primary col">Verify</button>
                <button id="btnResendOtp" class="btn btn-ghost">Resend</button>
              </div>
            </div>

            <div class="small muted" style="margin-top:8px">For testing without SMS cost, add test phone numbers in Firebase console (Auth → Sign-in method → Phone → Test numbers).</div>
          </div>
        </div>

        <!-- status / actions -->
        <div class="card" style="padding:12px;display:flex;flex-direction:column;gap:8px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:800">Status</div>
            <div>
              <button id="btnSignOut" class="btn btn-ghost" style="display:none">Sign out</button>
            </div>
          </div>

          <div id="statusBox" class="small muted">Not signed in</div>

          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button id="btnShowLocal" class="btn btn-ghost">Show local profile</button>
            <button id="btnClearLocal" class="btn btn-ghost">Clear local</button>
          </div>
        </div>

      </section>

      <!-- RIGHT: Info / Backend / Tips -->
      <aside class="card">
        <h3 style="margin:0">Deployment checklist</h3>
        <div class="info-list" style="margin-top:8px">
          <div>1) Firebase Console → Authentication → Sign-in method: <strong>Enable</strong> Email/Password, Google & Phone.</div>
          <div style="margin-top:6px">2) Add authorized domain(s): <code>njmart.netlify.app</code> and <code>localhost</code> (if local testing).</div>
          <div style="margin-top:6px">3) For Phone OTP, configure reCAPTCHA in Firebase settings (domain must match).</div>
          <div style="margin-top:6px">4) If you want customer rows in Google Sheets, deploy Apps Script web app and set its URL below in code (API_BACKEND_URL).</div>
        </div>

        <h3 style="margin-top:12px">Apps Script / Backend</h3>
        <div class="info-list" style="margin-top:6px">
          <div>Paste your Apps Script web app URL below in the JavaScript variable <code>API_BACKEND_URL</code> to enable auto-save of customers/orders.</div>
          <div style="margin-top:6px">Example: <span class="kbd">https://script.google.com/macros/s/AKfy.../exec</span></div>
        </div>

        <h3 style="margin-top:12px">Notes</h3>
        <div class="info-list" style="margin-top:6px">
          <div>- If OTP not arriving: check reCAPTCHA domain and Firebase phone quotas/test numbers.</div>
          <div style="margin-top:6px">- Use browser console to view detailed errors (F12 → Console).</div>
        </div>
      </aside>
    </div>

    <footer class="footer">
      NJ Mart — prepare your account, then sign in. Support: +91 70629 18607
    </footer>
  </div>

  <!-- ===== Firebase v8 (compat) CDNs ===== -->
  <!-- Using v8 for simpler direct usage in plain HTML (no bundler) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<!-- ===== Part B: Full JS logic (expanded) ===== -->
  <script>
    /**
     * NJ Mart — login (Part B)
     * - Expanded JS handling for: Google / Email / Signup / Reset / Phone OTP
     * - Local storage profile save
     * - Optional backend call (Apps Script) to append customer rows
     *
     * IMPORTANT:
     * - Replace API_BACKEND_URL variable below with your deployed Apps Script web app URL if you want server-side save.
     * - Ensure firebaseConfig matches your Firebase project (already set below).
     */

    (function(){
      // --------------------------
      // 1) Firebase config (use your provided values)
      // --------------------------
      const firebaseConfig = {
        apiKey: "AIzaSyCbf19k8pLFh-9UQz8sQRim2rPYT1qaEL8",
        authDomain: "njmartonline.firebaseapp.com",
        projectId: "njmartonline",
        storageBucket: "njmartonline.firebasestorage.app",
        messagingSenderId: "594505763627",
        appId: "1:594505763627:web:a13b0d3ef40e620f9b936e"
      };

      // initialize
      if(!firebase || !firebase.initializeApp){
        console.error("Firebase SDK not loaded.");
        document.getElementById('statusBox').textContent = "Firebase SDK not loaded — check CDN.";
        return;
      }
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const db = firebase.firestore ? firebase.firestore() : null;
      console.log("[NJ] Firebase initialized:", firebaseConfig.projectId);

      // --------------------------
      // 2) Optional backend (Apps Script) — set your deployed URL here
      // --------------------------
      const API_BACKEND_URL = ""; // <-- paste your script web app URL here if you want auto-saving

      // --------------------------
      // 3) DOM references
      // --------------------------
      const $ = id => document.getElementById(id);
      const btnGoogle = $('btnGoogle');
      const btnEmailLogin = $('btnEmailLogin');
      const btnShowSignup = $('btnShowSignup');
      const btnSignupCreate = $('btnSignupCreate');
      const btnSignupCancel = $('btnSignupCancel');
      const linkForgot = $('linkForgot');
      const btnResetSend = $('btnResetSend');
      const btnResetCancel = $('btnResetCancel');
      const btnSendOtp = $('btnSendOtp');
      const btnVerifyOtp = $('btnVerifyOtp');
      const btnResendOtp = $('btnResendOtp');
      const btnClearPhone = $('btnClearPhone');
      const btnSignOut = $('btnSignOut');
      const statusBox = $('statusBox');

      // inputs
      const inputEmail = $('email');
      const inputPassword = $('password');
      const signupEmail = $('signupEmail');
      const signupPassword = $('signupPassword');
      const resetEmail = $('resetEmail');
      const inputPhone = $('phone');
      const inputOtp = $('otp');

      // helper: show status
      function setStatus(msg, isError){
        statusBox.textContent = msg;
        statusBox.style.color = isError ? 'var(--danger)' : 'var(--accent-dark)';
        console.log("[NJ] STATUS:", msg);
      }

      // --------------------------
      // 4) local storage helpers
      // --------------------------
      const LS_KEY = 'njmart_profile_v1';
      function saveLocalProfile(profile){
        try{
          localStorage.setItem(LS_KEY, JSON.stringify(profile || {}));
          setStatus("Profile saved locally");
        }catch(e){ console.warn("saveLocalProfile error", e); }
      }
      function loadLocalProfile(){
        try{ return JSON.parse(localStorage.getItem(LS_KEY) || 'null'); }catch(e){return null;}
      }
      function clearLocal(){
        localStorage.removeItem(LS_KEY);
        setStatus("Local data cleared");
      }

      // show local profile (button)
      $('btnShowLocal').addEventListener('click', ()=>{
        const p = loadLocalProfile();
        if(!p) return alert("No local profile found.");
        alert("Local profile:\n\n" + JSON.stringify(p, null, 2));
      });
      $('btnClearLocal').addEventListener('click', ()=>{
        clearLocal();
        alert("Local cleared.");
      });

      // --------------------------
      // 5) UI toggles (signup/reset)
      // --------------------------
      btnShowSignup.addEventListener('click', ()=>{
        $('signupBlock').style.display = $('signupBlock').style.display === 'none' ? 'block' : 'none';
        $('resetBlock').style.display = 'none';
      });
      btnSignupCancel.addEventListener('click', ()=> $('signupBlock').style.display = 'none');

      linkForgot.addEventListener('click', (e)=>{
        e.preventDefault();
        $('resetBlock').style.display = $('resetBlock').style.display === 'none' ? 'block' : 'none';
        $('signupBlock').style.display = 'none';
      });
      btnResetCancel.addEventListener('click', ()=> $('resetBlock').style.display = 'none');

      // --------------------------
      // 6) Auth state listener
      // --------------------------
      auth.onAuthStateChanged(function(user){
        if(user){
          // user signed in
          const who = user.displayName || user.email || user.phoneNumber || user.uid;
          setStatus("Signed in: " + who);
          btnSignOut.style.display = 'inline-block';

          // save local profile for later pages
          const profile = {
            uid: user.uid || '',
            name: user.displayName || '',
            email: user.email || '',
            phone: user.phoneNumber || '',
            photoURL: user.photoURL || ''
          };
          saveLocalProfile(profile);

          // Optionally post to backend (best-effort)
          if(API_BACKEND_URL && API_BACKEND_URL.length > 10){
            try{
              fetch(API_BACKEND_URL, {
                method:'POST',
                headers:{'Content-Type':'application/json'},
                body: JSON.stringify({
                  action:'addcustomer',
                  Name: profile.name || '(no name)',
                  Phone: profile.phone || '',
                  Email: profile.email || '',
                  Address: ''
                })
              }).then(r=>r.json()).then(resp=>{ console.log("backend addcustomer resp", resp); }).catch(err => console.warn(err));
            }catch(e){ console.warn("backend call failed", e); }
          }

          // If you want to redirect after login, uncomment below:
          // window.location.href = "index.html";
        } else {
          // signed out
          setStatus("Not signed in");
          btnSignOut.style.display = 'none';
        }
      });

      // --------------------------
      // 7) Google Sign-in
      // --------------------------
      btnGoogle.addEventListener('click', async ()=>{
        setStatus("Opening Google sign-in...");
        const provider = new firebase.auth.GoogleAuthProvider();
        try{
          const res = await auth.signInWithPopup(provider);
          setStatus("Google sign-in success: " + (res.user.email || res.user.uid));
          console.log("Google result:", res);
        }catch(err){
          console.error("Google error:", err);
          setStatus("Google sign-in failed: " + (err && err.message ? err.message : err), true);
        }
      });

      // --------------------------
      // 8) Email login
      // --------------------------
      $('emailForm').addEventListener('submit', async function(e){
        e.preventDefault();
        const em = (inputEmail.value || '').trim();
        const pw = (inputPassword.value || '').trim();
        if(!em || !pw){ setStatus("Enter email and password", true); return; }
        setStatus("Signing in...");
        try{
          const cred = await auth.signInWithEmailAndPassword(em, pw);
          setStatus("Signed in: " + (cred.user.email || cred.user.uid));
          console.log("Email login:", cred);
        }catch(err){
          console.error("Email login error:", err);
          setStatus("Email login failed: " + (err && err.message ? err.message : err), true);
        }
      });

      // --------------------------
      // 9) Signup create
      // --------------------------
      btnSignupCreate.addEventListener('click', async ()=>{
        const em = (signupEmail.value || '').trim();
        const pw = (signupPassword.value || '').trim();
        if(!em || !pw){ setStatus("Enter signup email & password", true); return; }
        if(pw.length < 6){ setStatus("Password must be 6+ characters", true); return; }
        setStatus("Creating account...");
        try{
          const res = await auth.createUserWithEmailAndPassword(em, pw);
          setStatus("Account created: " + (res.user.email || res.user.uid));
          // Optionally send email verification:
          try{ await res.user.sendEmailVerification(); setStatus("Verification email sent."); }catch(e){ console.warn("sendEmailVerification err", e); }
        }catch(err){
          console.error("Signup error:", err);
          setStatus("Signup failed: " + (err && err.message ? err.message : err), true);
        }
      });

      // --------------------------
      // 10) Reset password
      // --------------------------
      btnResetSend.addEventListener('click', async ()=>{
        const em = (resetEmail.value || '').trim();
        if(!em){ setStatus("Enter email for reset", true); return; }
        setStatus("Sending reset email...");
        try{
          await auth.sendPasswordResetEmail(em);
          setStatus("Reset email sent to " + em);
        }catch(err){
          console.error("Reset error:", err);
          setStatus("Reset failed: " + (err && err.message ? err.message : err), true);
        }
      });

      // --------------------------
      // 11) Phone OTP — reCAPTCHA setup
      // --------------------------
      // We'll use firebase.auth.RecaptchaVerifier (v8)
      let recaptchaVerifier = null;
      let confirmationResult = null;

      function ensureRecaptcha(){
        try{
          if(recaptchaVerifier) return recaptchaVerifier;
          recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
            size: 'invisible',
            callback: function(response){
              console.log("reCAPTCHA solved");
            },
            'expired-callback': function(){ console.warn("reCAPTCHA expired"); }
          });
          // render widget (optional)
          recaptchaVerifier.render().then(function(widgetId){
            console.log("reCAPTCHA widgetId:", widgetId);
          }).catch(err => console.warn("recaptcha render err", err));
          return recaptchaVerifier;
        }catch(e){
          console.error("ensureRecaptcha error", e);
          return null;
        }
      }

      btnSendOtp.addEventListener('click', async ()=>{
        const phoneVal = (inputPhone.value || '').trim();
        if(!phoneVal){ setStatus("Enter phone number in E.164 format like +919876543210", true); return; }
        if(!/^\+\d{8,15}$/.test(phoneVal)){ setStatus("Phone must be in E.164 format (+countryphone)", true); return; }
        setStatus("Sending OTP to " + phoneVal + " ...");
        try{
          ensureRecaptcha();
          confirmationResult = await auth.signInWithPhoneNumber(phoneVal, recaptchaVerifier);
          setStatus("OTP sent. Enter the code and click Verify.");
          $('otpArea').style.display = 'block';
        }catch(err){
          console.error("sendOtp error:", err);
          // clear recaptcha for next attempt
          try{ recaptchaVerifier && recaptchaVerifier.clear(); recaptchaVerifier = null; }catch(e){}
          setStatus("Send OTP failed: " + (err && err.message ? err.message : err), true);
        }
      });

      btnVerifyOtp.addEventListener('click', async ()=>{
        const code = (inputOtp.value || '').trim();
        if(!code){ setStatus("Enter OTP code", true); return; }
        if(!confirmationResult){ setStatus("No OTP requested — click Send OTP first", true); return; }
        setStatus("Verifying OTP...");
        try{
          const res = await confirmationResult.confirm(code);
          setStatus("Phone sign-in success: " + (res.user.phoneNumber || res.user.uid));
          console.log("Phone auth result:", res);
          $('otpArea').style.display = 'none';
        }catch(err){
          console.error("verifyOtp error:", err);
          setStatus("OTP verification failed: " + (err && err.message ? err.message : err), true);
        }
      });

      btnResendOtp.addEventListener('click', ()=>{
        // re-run send flow (simple approach)
        try{
          recaptchaVerifier && recaptchaVerifier.clear();
          recaptchaVerifier = null;
        }catch(e){}
        btnSendOtp.click();
      });

      btnClearPhone.addEventListener('click', ()=>{
        inputPhone.value = '';
        inputOtp.value = '';
        $('otpArea').style.display = 'none';
        setStatus("Phone fields cleared");
      });

      // --------------------------
      // 12) Sign out
      // --------------------------
      btnSignOut.addEventListener('click', async ()=>{
        try{
          await auth.signOut();
          clearLocal();
          setStatus("Signed out");
        }catch(err){
          console.error("sign out err", err);
          setStatus("Sign out failed: " + (err && err.message ? err.message : err), true);
        }
      });

      // --------------------------
      // 13) Small helpers: keyboard, validation
      // --------------------------
      // Enter on password triggers login
      inputPassword.addEventListener('keydown', (ev)=>{ if(ev.key === 'Enter'){ btnEmailLogin.click(); } });

      // --------------------------
      // 14) Optional: expose debug utils on window
      // --------------------------
      window.NJAuthDebug = {
        firebaseConfig,
        API_BACKEND_URL,
        saveLocalProfile,
        loadLocalProfile
      };

      // initial message
      setStatus("Ready. Use Google / Email / Phone to login.");
      console.log("[NJ] Login logic loaded.");

    })(); // IIFE end
  </script>

  <!-- ===== End of Part B content ===== -->

</body>
</html>
